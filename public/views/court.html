<!DOCTYPE html>
<html ng-app="SportScheduler">
	<head>
	    <title>Court</title>
	    <link rel="shortcut icon" href="../assets/basketball.ico"/>
	    <!-- Bootstrap CSS -->
	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    	<!-- AngularJS -->
    	<script src="../libs/angular/angular.js"></script>
		<!-- Our styles and code -->
		<link rel="stylesheet" type="text/css" href="../css/court.css">
		<script type ="text/javascript" src="../js/app.js"></script>
		<script type="text/javascript" src="../js/controllers/FacilityCtrl.js"></script>
		<meta charset="utf-8"> 
		<meta name="viewport" content="width=device-width, initial-scale=1">	
   	<body ng-controller="CourtController">
   		<div ng-init="get()"></div>
	  	<script>

	  	  if(localStorage.loggedIn === "false"){
	        window.location = "../"
	      }

	      window.fbAsyncInit = function() {
	      FB.init({
	      appId      : '624244104353794',
	      xfbml      : true,
	      version    : 'v2.2'
	      });
	      };

	      (function(d, s, id){
	      var js, fjs = d.getElementsByTagName(s)[0];
	      if (d.getElementById(id)) {return;}
	      js = d.createElement(s); js.id = id;
	      js.src = "//connect.facebook.net/en_US/sdk.js";
	      fjs.parentNode.insertBefore(js, fjs);
	      }(document, 'script', 'facebook-jssdk'));
	    </script>

 		<nav class="navbar navbar-inverse" ng-include="'navbar.html'" style="background-color: #4E7BA0; border-color: #4E7BA0;"></nav>

	    <!-- title -->
	    <div class="container">
	      	<div class="row" id="title">
	        	<div class="col-xs-12">
	         	 	<h1> Bulldog Court </h1>
	          		<h3> Select a time you would like to reserve </h3>
	        	</div>
	      	</div>
	    </div>

	    <!-- middle column -->
	    <div class="container" id="middleColumn" style="max-width: 850px;">
	
	    	<!-- Court Picture -->
	    	<div class="row">
            	<img ng-src="{{courts[0].image}}">
		    </div>

			<!-- Calendar --> 
			<div class="table-responsive" id="courtCal" ng-controller="CalendarController">          
		       	<table class="table table-striped table-bordered">
			        <thead style="color: #666666; background-color: #eeeeee;">
				        <tr>
				            <th style="text-align: center;">Sunday</th>
				            <th style="text-align: center;">Monday</th>
				        	<th style="text-align: center;">Tuesday</th>
				     		<th style="text-align: center;">Wednesday</th>
				            <th style="text-align: center;">Thursday</th>
				            <th style="text-align: center;">Friday</th>
				            <th style="text-align: center;">Saturday</th>
				        </tr>
			        </thead>
			 
					<!-- Modal HTML -->
					<div id="myModal" class="modal fade">
					    <div class="modal-dialog">
					        <div class="modal-content">
					            <div class="modal-header">
					                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					                <h4 class="modal-title">Set Duration</h4>
					            </div>
					            <div class="modal-body">

							        	<div class="durInfo">
							            	<p>Set the duration of your court reservation:</p>
							        	</div>

							        	<div class="dropdown" style="display: -webkit-flex; -webkit-align-items: center; display: flex; align-items: center;">
											<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true" style="margin-left: auto; margin-right: auto;">
											    Select Duration
											    <span class="caret"></span>
											</button>
											<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1" align="center" style="width: 70%; margin-left: 150px;">
											    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">1 Hour</a></li>
											    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">2 Hours</a></li>
											    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">3 Hours</a></li>
											    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">4 Hours</a></li>
											</ul>
										</div>

								</div>      
					            <div class="modal-footer">
					                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
					                <button type="button" class="btn btn-primary">Reserve</button>
					            </div>
					        </div>
					    </div>
					</div>

			        <!-- Filling out the table-->
			        <tbody id="tableGuy" style="text-align: center; color: #cccccc;">
						<tr ng-repeat="day in calendars">
							<td ng-repeat="hour in day track by $index">
								<div ng-if="hour != 'RESERVED'">
									<a href="#myModal" role="button" class="btn" data-toggle="modal" style="color: #999999">
										{{hour}}
									</a>
								</div>
								<div ng-if="hour == 'RESERVED'" style="color: #666666; font-weight: bold;">
									{{hour}}
								</div>

							</td>
						</tr>
			        </tbody>
		       </table>
		    </div>

		</div>
	 	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
	</body>
	<div id="footer"></div>	
</html>
